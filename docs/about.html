<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.475">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Marcelo Rosales">
<meta name="dcterms.date" content="2023-05-26">
<title>descSPIM_LSmicro - About</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><link rel="stylesheet" href="styles.css">
<meta property="og:title" content="descSPIM_LSmicro - About">
<meta property="og:description" content="descSPIM : affordable but versatile light-sheet microscopy system for tissue clearing end users">
<meta property="og:site-name" content="descSPIM_LSmicro">
</head>
<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">descSPIM_LSmicro</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="./index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./about.html" aria-current="page">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Software.html">
 <span class="menu-text">Software</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-supplementary" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Supplementary</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-supplementary">
<li class="dropdown-header">Videos</li>
        <li>
    <a class="dropdown-item" href="./supplementary/3dimaging/index.html">
 <span class="dropdown-text">3D Imaging</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./supplementary/construction/index.html">
 <span class="dropdown-text">Construction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./supplementary/OpticalAligment/index.html">
 <span class="dropdown-text">Optical Aligment</span></a>
  </li>  
    </ul>
</li>
</ul>
<ul class="navbar-nav navbar-nav-scroll ms-auto"></ul>
<div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">About</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"></nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li>
<a href="#about-descspim" id="toc-about-descspim" class="nav-link active" data-scroll-target="#about-descspim">About descSPIM</a>
  <ul class="collapse">
<li><a href="#what-is-descspim" id="toc-what-is-descspim" class="nav-link" data-scroll-target="#what-is-descspim">What is descSPIM?</a></li>
  <li><a href="#what-are-ideal-imaging-applications-for-a-descspim" id="toc-what-are-ideal-imaging-applications-for-a-descspim" class="nav-link" data-scroll-target="#what-are-ideal-imaging-applications-for-a-descspim">What are ideal imaging applications for a descSPIM?</a></li>
  </ul>
</li>
  <li><a href="#guide-to-install" id="toc-guide-to-install" class="nav-link" data-scroll-target="#guide-to-install">Guide to install</a></li>
  <li><a href="#terms-and-conditions" id="toc-terms-and-conditions" class="nav-link" data-scroll-target="#terms-and-conditions">Terms and Conditions</a></li>
  <li>
<a href="#descspim-microscope" id="toc-descspim-microscope" class="nav-link" data-scroll-target="#descspim-microscope">DescSPIM microscope</a>
  <ul class="collapse">
<li><a href="#workflow" id="toc-workflow" class="nav-link" data-scroll-target="#workflow">Workflow</a></li>
  </ul>
</li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title d-none d-lg-block">About</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Marcelo Rosales </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 26, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header><section id="about-descspim" class="level2"><h2 class="anchored" data-anchor-id="about-descspim">About descSPIM</h2>
<p>descSPIM : affordable but versatile light-sheet microscopy system for tissue clearing end users</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="https://github-production-user-asset-6210df.s3.amazonaws.com/126061350/237289830-f2d5b706-65d0-48b8-8c36-c4be8a2e1a56.png" class="lightbox" data-gallery="gallery01" title="descSPIM_CAD_for_GitHub_middle"><img src="https://github-production-user-asset-6210df.s3.amazonaws.com/126061350/237289830-f2d5b706-65d0-48b8-8c36-c4be8a2e1a56.png" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">descSPIM_CAD_for_GitHub_middle</figcaption><p></p>
</figure>
</div>
<section id="what-is-descspim" class="level3"><h3 class="anchored" data-anchor-id="what-is-descspim">What is descSPIM?</h3>
<p>descSPIM is a lightsheet microscopy system that we designed to meet the unmet needs of researchers who are using tissue clearing techniques. The system offers a low-cost and easy-to-use solution for 3D imaging of cleared tissue samples that requires little expertise and cost. Most optical components are readily available from a single vendor and can be readily assembled using the instructions provided. These minimal optical parts are arranged on a small optical breadboard. In contrast to existing lightsheet systems, descSPIM is intended to be simple to install, build, and operate, even for end users with no prior experience in optics. descSPIM is also highly expandable and can be customized to suit a variety of applications, making it a versatile tool for a wide range of research projects. With descSPIM, researchers can easily achieve practical-quality 3D imaging of cleared specimens in a daily experiments.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="https://github-production-user-asset-6210df.s3.amazonaws.com/126061350/237290075-952cae5c-883a-4f3d-b6ba-bc8a15625755.png" class="lightbox" data-gallery="gallery01" title="descSPIM_cost_vs_expertise_for_GitHub (1)_middle"><img src="https://github-production-user-asset-6210df.s3.amazonaws.com/126061350/237290075-952cae5c-883a-4f3d-b6ba-bc8a15625755.png" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">descSPIM_cost_vs_expertise_for_GitHub (1)_middle</figcaption><p></p>
</figure>
</div>
<p>The main features of descSPIM are: Easy-to-build Easy-to-operate (use a cuvette / no oil chamber) Affordable ($20k-50k for descSPIM-basic, depending on the number of lasers) Compact (all parts on a 300 mm x 450 mm breadboard)Versatile (highly expandable and customizable)## Who is the descSPIM for?</p>
<p>Researchers interested in using Light-sheet fluorescence microscopy (LSFM) for cleared tissue imaging</p>
</section><section id="what-are-ideal-imaging-applications-for-a-descspim" class="level3"><h3 class="anchored" data-anchor-id="what-are-ideal-imaging-applications-for-a-descspim">What are ideal imaging applications for a descSPIM?</h3>
<ul>
<li>Macro- to meso-scale imaging of 3D volumetric samples prepared by tissue clearing techniques with strong efficiency (CUBIC, BABB, DISCO, SHIELDs etc.)</li>
<li>Visualization of cell populations or anatomical structures (e.g.&nbsp;blood vessels, plaques) with cellular to sub-cellular resolutions</li>
</ul></section></section><section id="guide-to-install" class="level2"><h2 class="anchored" data-anchor-id="guide-to-install">Guide to install</h2>
<p>It is recommended to start learning</p>
<p><a href="">Basic of optics</a> and</p>
<p><a href="">Cleared sample preparation</a>,</p>
<p><a href="">descSPIM-basic</a>.</p>
<p>Add-on functions are developed to be compatible with the basic system.</p>
<p>Related codes can be available here: <a href="https://github.com/dbsb-juntendo/descSPIM/blob/main/DOCs/Data%20processing.md">Data processing</a></p>
</section><section id="terms-and-conditions" class="level2"><h2 class="anchored" data-anchor-id="terms-and-conditions">Terms and Conditions</h2>
<p>By using descSPIM, you agree to abide by these terms and conditions:</p>
<ul>
<li><p>This system is only available for academic use. Any use for commercial purposes is strictly prohibited, unless permission is granted by the authors.</p></li>
<li><p>Academic users are allowed to use, apply, and adopt the system in accordance with the CC by 4.0 license policy. This includes modifications, adaptations, and redistribution of the system and its components.</p></li>
<li><p>If any commercial enterprise wants to use, produce, or sell the system, they must contact the authors (suishess-kyu@umin.ac.jp) to request permission.</p></li>
<li><p>All users of the system must acknowledge and refer to the original paper (Otomo et al.&nbsp;bioRxiv 2023) in any publications or presentations resulting from the use of the system.</p></li>
<li><p>The authors are not responsible for any consequences arising from the use of this system as well as related tools, scripts, and software. Users assume all risks and liabilities associated with the use.</p></li>
<li><p>The authors reserve the right to modify or terminate the system and its services at any time, without prior notice.</p></li>
<li><p>Users agree to comply with all applicable laws and regulations regarding the use of the system.</p></li>
<li><p>Any disputes arising from the use of this system shall be resolved through negotiation between the parties. If a resolution cannot be reached, the dispute shall be submitted to binding arbitration in accordance with the laws of Japan.</p></li>
</ul></section><section id="descspim-microscope" class="level2"><h2 class="anchored" data-anchor-id="descspim-microscope">DescSPIM microscope</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="images/Screenshot at Jun 02 12-33-08.png" class="lightbox" data-gallery="gallery01" title="Focus tracing"><img src="images/Screenshot at Jun 02 12-33-08.png" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">Focus tracing</figcaption><p></p>
</figure>
</div>
<p>a. A conventional system with a positionally fixed medium chamber fulfilled with a clearing reagent or a RI-matched immersion oil (e.g., n = 1.52). The sample is moved along the z-axis within the chamber. In this case, the ratio of A (the distance from the chamber wall to the light-sheet illumination, with RI of the immersion reagent) and B (the distance from the objective lens to the chamber wall, with RI of the air (1.0)) is fixed.</p>
<p>b. descSPIM sample imaging method employing a cuvette as a sample container. In this case, due to the movement of the sample chamber (the cuvette) during imaging, the ratio of A and B is altered, resulting in defocus. descSPIM applies synchronized movement of the sample stage (zsample) and the detection optics (zdetect) to prevent the defocus. See Supplementary Fig. 4 and Methods for details on how to calculate the synchronous speed correction value (the relative velocity of two actuators).</p>
<section id="workflow" class="level3"><h3 class="anchored" data-anchor-id="workflow">Workflow</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="images/Screenshot at Jun 02 12-38-06.png" class="lightbox" data-gallery="gallery01" title="Workflow"><img src="images/Screenshot at Jun 02 12-38-06.png" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">Workflow</figcaption><p></p>
</figure>
</div>
</section></section><section id="references" class="level2"><h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><p><a href="https://www.biorxiv.org/content/10.1101/2023.05.02.539136v2">Otomo et al.&nbsp;descSPIM: Affordable and Easy-to-Build Light-Sheet Microscopy for Clearing Technique Users. bioRxiv (2023)</a></p></li>
<li><p><a href="https://doi.org/10.1038/s41467-020-15906-5">Susaki et al.&nbsp;Versatile whole-organ/body staining and imaging based on electrolyte-gel properties of biological tissues. Nat Commun 11, 1982 (2020)</a></p></li>
<li><p><a href="https://doi.org/10.1038/s41596-019-0240-9">Matsumoto et al.&nbsp;Advanced CUBIC tissue clearing for whole-organ cell profiling. Nat Protoc 14, 3506–3537 (2019)</a></p></li>
<li><p><a href="http://cubic.riken.jp">CUBIC resource website</a></p></li>
</ul>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","selector":".lightbox","loop":true,"descPosition":"bottom","openEffect":"zoom"});</script>


</body></html>